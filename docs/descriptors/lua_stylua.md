---
title: stylua configuration in MegaLinter
description: How to use stylua (configure, ignore files, ignore errors, help & version documentations) to analyze LUA files
---
<!-- markdownlint-disable MD033 MD041 -->
<!-- @generated by .automation/build.py, please don't update manually -->
# stylua
[![GitHub stars](https://img.shields.io/github/stars/JohnnyMorganz/StyLua?cacheSeconds=3600)](https://github.com/JohnnyMorganz/StyLua) [![GitHub release (latest SemVer)](https://img.shields.io/github/v/release/JohnnyMorganz/StyLua?sort=semver)](https://github.com/JohnnyMorganz/StyLua/releases) [![GitHub last commit](https://img.shields.io/github/last-commit/JohnnyMorganz/StyLua)](https://github.com/JohnnyMorganz/StyLua/commits) [![GitHub commit activity](https://img.shields.io/github/commit-activity/y/JohnnyMorganz/StyLua)](https://github.com/JohnnyMorganz/StyLua/graphs/commit-activity/) [![GitHub contributors](https://img.shields.io/github/contributors/JohnnyMorganz/StyLua)](https://github.com/JohnnyMorganz/StyLua/graphs/contributors/)

## stylua documentation

- Version in MegaLinter: **2.0.0**
- Visit [Official Web Site](https://github.com/JohnnyMorganz/StyLua#readme){target=_blank}
- See [How to configure stylua rules](https://github.com/JohnnyMorganz/StyLua?tab=readme-ov-file#configuration){target=_blank}
- See [How to disable stylua rules in files](https://github.com/JohnnyMorganz/StyLua?tab=readme-ov-file#ignoring-parts-of-a-file){target=_blank}
- See [Index of problems detected by stylua](https://roblox.github.io/lua-style-guide/){target=_blank}

[![StyLua - GitHub](https://gh-card.dev/repos/JohnnyMorganz/StyLua.svg?fullname=)](https://github.com/JohnnyMorganz/StyLua){target=_blank}

## Configuration in MegaLinter

- Enable stylua by adding `LUA_STYLUA` in [ENABLE_LINTERS variable](https://megalinter.io/beta/configuration/#activation-and-deactivation)
- Disable stylua by adding `LUA_STYLUA` in [DISABLE_LINTERS variable](https://megalinter.io/beta/configuration/#activation-and-deactivation)

| Variable                               | Description                                                                                                                                                                                  | Default value                                   |
|----------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------|
| LUA_STYLUA_ARGUMENTS                   | User custom arguments to add in linter CLI call<br/>Ex: `-s --foo "bar"`                                                                                                                     |                                                 |
| LUA_STYLUA_COMMAND_REMOVE_ARGUMENTS    | User custom arguments to remove from command line before calling the linter<br/>Ex: `-s --foo "bar"`                                                                                         |                                                 |
| LUA_STYLUA_FILTER_REGEX_INCLUDE        | Custom regex including filter<br/>Ex: `(src\|lib)`                                                                                                                                           | Include every file                              |
| LUA_STYLUA_FILTER_REGEX_EXCLUDE        | Custom regex excluding filter<br/>Ex: `(test\|examples)`                                                                                                                                     | Exclude no file                                 |
| LUA_STYLUA_CLI_LINT_MODE               | Override default CLI lint mode<br/>- `file`: Calls the linter for each file<br/>- `project`: Call the linter from the root of the project                                                    | `file`                                          |
| LUA_STYLUA_FILE_EXTENSIONS             | Allowed file extensions. `"*"` matches any extension, `""` matches empty extension. Empty list excludes all files<br/>Ex: `[".py", ""]`                                                      | `[".lua"]`                                      |
| LUA_STYLUA_FILE_NAMES_REGEX            | File name regex filters. Regular expression list for filtering files by their base names using regex full match. Empty list includes all files<br/>Ex: `["Dockerfile(-.+)?", "Jenkinsfile"]` | Include every file                              |
| LUA_STYLUA_PRE_COMMANDS                | List of bash commands to run before the linter                                                                                                                                               | None                                            |
| LUA_STYLUA_POST_COMMANDS               | List of bash commands to run after the linter                                                                                                                                                | None                                            |
| LUA_STYLUA_UNSECURED_ENV_VARIABLES     | List of env variables explicitly not filtered before calling LUA_STYLUA and its pre/post commands                                                                                            | None                                            |
| LUA_STYLUA_CONFIG_FILE                 | stylua configuration file name</br>Use `LINTER_DEFAULT` to let the linter find it                                                                                                            | `stylua.toml`                                   |
| LUA_STYLUA_RULES_PATH                  | Path where to find linter configuration file                                                                                                                                                 | Workspace folder, then MegaLinter default rules |
| LUA_STYLUA_DISABLE_ERRORS              | Run linter but consider errors as warnings                                                                                                                                                   | `false`                                         |
| LUA_STYLUA_DISABLE_ERRORS_IF_LESS_THAN | Maximum number of errors allowed                                                                                                                                                             | `0`                                             |
| LUA_STYLUA_CLI_EXECUTABLE              | Override CLI executable                                                                                                                                                                      | `['stylua']`                                    |

## IDE Integration

Use stylua in your favorite IDE to catch errors before MegaLinter !

|                                                                   <!-- -->                                                                   | IDE                                                  | Extension Name                                                                                                                                                                                                                            |                                                                                                     Install                                                                                                      |
|:--------------------------------------------------------------------------------------------------------------------------------------------:|------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|:----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------:|
| <img src="https://github.com/oxsecurity/megalinter/raw/main/docs/assets/icons/default.ico" alt="" height="32px" class="megalinter-icon"></a> | neovim                                               | [['nvim-lint', 'none-ls', 'stylua-nvim', 'stylua.nvim']](['https://github.com/mfussenegger/nvim-lint', 'https://github.com/nvimtools/none-ls.nvim', 'https://github.com/ckipp01/stylua-nvim', 'https://github.com/wesleimp/stylua.nvim']) | [Visit Web Site](['https://github.com/mfussenegger/nvim-lint', 'https://github.com/nvimtools/none-ls.nvim', 'https://github.com/ckipp01/stylua-nvim', 'https://github.com/wesleimp/stylua.nvim']){target=_blank} |
| <img src="https://github.com/oxsecurity/megalinter/raw/main/docs/assets/icons/vscode.ico" alt="" height="32px" class="megalinter-icon"></a>  | [Visual Studio Code](https://code.visualstudio.com/) | [Stylua](https://marketplace.visualstudio.com/items?itemName=JohnnyMorganz.stylua)                                                                                                                                                        |                    [![Install in VSCode](https://github.com/oxsecurity/megalinter/raw/main/docs/assets/images/btn_install_vscode.png)](vscode:extension/JohnnyMorganz.stylua){target=_blank}                     |
| <img src="https://github.com/oxsecurity/megalinter/raw/main/docs/assets/icons/sublime.ico" alt="" height="32px" class="megalinter-icon"></a> | [Sublime Text](https://www.sublimetext.com/)         | [Sublime-Pretty-Lua](https://packagecontrol.io/packages/Pretty%20Lua)                                                                                                                                                                     |                                                                 [Visit Web Site](https://packagecontrol.io/packages/Pretty%20Lua){target=_blank}                                                                 |

## MegaLinter Flavors

This linter is available in the following flavors

|                                                                         <!-- -->                                                                         | Flavor                                               | Description               | Embedded linters |                                                                                                                                                                       Info |
|:--------------------------------------------------------------------------------------------------------------------------------------------------------:|:-----------------------------------------------------|:--------------------------|:----------------:|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------:|
| <img src="https://github.com/oxsecurity/megalinter/raw/main/docs/assets/images/mega-linter-square.png" alt="" height="32px" class="megalinter-icon"></a> | [all](https://megalinter.io/beta/supported-linters/) | Default MegaLinter Flavor |       125        | ![Docker Image Size (tag)](https://img.shields.io/docker/image-size/oxsecurity/megalinter/beta) ![Docker Pulls](https://img.shields.io/docker/pulls/oxsecurity/megalinter) |

## Behind the scenes

### How are identified applicable files

- File extensions: `.lua`

<!-- markdownlint-disable -->
<!-- /* cSpell:disable */ -->
### How the linting is performed

- stylua is called one time by identified file (`file` CLI lint mode)

### Example calls

```shell
stylua --check myfile.lua
```

```shell
stylua --config-path chktexrc.toml --check myfile.lua
```


### Help content

```shell
stylua 2.0.0
A utility to format Lua code

USAGE:
    stylua [OPTIONS] [FILES]...

ARGS:
    <FILES>...    A list of files to format

OPTIONS:
    -a, --allow-hidden
            Whether to traverse hidden files/directories

    -c, --check
            Runs in 'check' mode

        --color <COLOR>
            Use colored output [default: Auto] [possible values: Always, Auto, Never]

    -f, --config-path <CONFIG_PATH>
            Specify path to stylua.toml configuration file

    -g, --glob <GLOB>
            Glob patterns to test against which files to check

    -h, --help
            Print help information

        --no-editorconfig
            Disables the EditorConfig feature

        --num-threads <NUM_THREADS>
            The number of threads to use to format files in parallel [default: 4]

        --output-format <OUTPUT_FORMAT>
            Configures the diff output when using 'check' mode [default: Standard] [possible values:
            Standard, Unified, Json, Summary]

        --range-end <RANGE_END>
            An ending range to format files, given as a byte offset from the beginning of the file

        --range-start <RANGE_START>
            A starting range to format files, given as a byte offset from the beginning of the file

        --respect-ignores
            Respect .styluaignore and glob matching for file paths provided directly to the tool

    -s, --search-parent-directories
            Search parent directories for stylua.toml, if not found in current directory. Ignored if
            config_path is provided

        --stdin-filepath <STDIN_FILEPATH>
            Specify the location of the file that is being passed into stdin. Ignored if not taking
            in input from stdin

    -v, --verbose
            Enables verbose output

    -V, --version
            Print version information

        --verify
            Verifies the output correctness after formatting

FORMATTING OPTIONS:
        --call-parentheses <CALL_PARENTHESES>
            Specify whether to apply parentheses on function calls with single string or table arg
            [possible values: Always, NoSingleString, NoSingleTable, None, Input]

        --collapse-simple-statement <COLLAPSE_SIMPLE_STATEMENT>
            Specify whether to collapse simple statements [possible values: Never, FunctionOnly,
            ConditionalOnly, Always]

        --column-width <COLUMN_WIDTH>
            The column width to use to attempt to wrap lines

        --indent-type <INDENT_TYPE>
            The type of indents to use [possible values: Tabs, Spaces]

        --indent-width <INDENT_WIDTH>
            The width of a single indentation level

        --line-endings <LINE_ENDINGS>
            The type of line endings to use [possible values: Unix, Windows]

        --quote-style <QUOTE_STYLE>
            The style of quotes to use in string literals [possible values: AutoPreferDouble,
            AutoPreferSingle, ForceDouble, ForceSingle]

        --sort-requires
            Enable requires sorting

        --space-after-function-names <SPACE_AFTER_FUNCTION_NAMES>
            [possible values: Never, Definitions, Calls, Always]

        --syntax <SYNTAX>
            The type of Lua syntax to parse [possible values: All, Lua51]
```

### Installation on mega-linter Docker image

- Dockerfile commands :
```dockerfile
# Parent descriptor install
RUN wget --tries=5 https://www.lua.org/ftp/lua-5.3.5.tar.gz -O - -q | tar -xzf - \
    && cd lua-5.3.5 \
    && make linux \
    && make install \
    && cd .. && rm -r lua-5.3.5/

# Linter install
# renovate: datasource=crate depName=stylua
ARG CARGO_STYLUA_VERSION=2.0.0
```

- Cargo packages (Rust):
  - [stylua@2.0.0](https://crates.io/crates/stylua/2.0.0)
